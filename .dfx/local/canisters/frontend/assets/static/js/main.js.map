{"version":3,"file":"static/js/main.js","mappings":"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","sources":["/Users/ghostcorn/dev/buy_me_coffee/src/App.tsx","/Users/ghostcorn/dev/buy_me_coffee/src/canisters/buymecoffee/index.js","/Users/ghostcorn/dev/buy_me_coffee/src/components/LoginModal.tsx","/Users/ghostcorn/dev/buy_me_coffee/src/models/app.ts","/Users/ghostcorn/dev/buy_me_coffee/src/pages/Dashboard/index.tsx","/Users/ghostcorn/dev/buy_me_coffee/src/pages/Empty/index.tsx","/Users/ghostcorn/dev/buy_me_coffee/src/pages/Layout/MainLayout.tsx","/Users/ghostcorn/dev/buy_me_coffee/src/pages/Register/index.tsx","/Users/ghostcorn/dev/buy_me_coffee/src/App.css","/Users/ghostcorn/dev/buy_me_coffee/ignored|/Users/ghostcorn/dev/buy_me_coffee/node_modules/.pnpm/bn.js@4.12.0/node_modules/bn.js/lib|buffer","/Users/ghostcorn/dev/buy_me_coffee/ignored|/Users/ghostcorn/dev/buy_me_coffee/node_modules/.pnpm/brorand@1.1.0/node_modules/brorand|crypto","/Users/ghostcorn/dev/buy_me_coffee/ignored|/Users/ghostcorn/dev/buy_me_coffee/node_modules/.pnpm/tweetnacl@1.0.3/node_modules/tweetnacl|crypto"],"sourcesContent":["import { Switch, Route } from '@modern-js/runtime/router';\n\nimport './App.css';\nimport { MainLayout } from './pages/Layout/MainLayout';\n\nconst App: React.FC = () => <MainLayout />;\n\nexport default App;\n","export const idlFactory = ({ IDL }) => {\n  const Wallet = IDL.Text;\n  const PeopleUpdate = IDL.Record({ 'name' : IDL.Text, 'wallet' : Wallet });\n  const ID = IDL.Principal;\n  const People = IDL.Record({\n    'id' : ID,\n    'name' : IDL.Text,\n    'wallet' : Wallet,\n  });\n  const Error = IDL.Variant({\n    'WrongCaller' : IDL.Null,\n    'NotFound' : IDL.Null,\n    'NotAuthorized' : IDL.Null,\n    'AlreadyExists' : IDL.Null,\n  });\n  const Result = IDL.Variant({ 'ok' : People, 'err' : Error });\n  const Result_1 = IDL.Variant({ 'ok' : IDL.Bool, 'err' : Error });\n  const BuyMeCoffee = IDL.Service({\n    'create' : IDL.Func([PeopleUpdate], [Result], []),\n    'delete' : IDL.Func([], [Result_1], []),\n    'ping' : IDL.Func([], [IDL.Principal], []),\n    'read' : IDL.Func([], [Result], ['query']),\n    'update' : IDL.Func([PeopleUpdate], [Result], []),\n  });\n  return BuyMeCoffee;\n};\nexport const init = ({ IDL }) => { return []; };\n","import { IconMoneyExchangeStroked, IconUserCircle } from '@douyinfe/semi-icons';\nimport { Button, List, Modal } from '@douyinfe/semi-ui';\n\ninterface LoginModalInterface {\n  logout: () => Promise<void>;\n  setModalVisible: (status: boolean) => void;\n  modalVisible: boolean;\n  principal: string;\n  wallet: string;\n  name?: string;\n}\n\nexport const LoginModal = ({\n  logout,\n  setModalVisible,\n  modalVisible,\n  principal,\n  wallet,\n  name,\n}: LoginModalInterface) => {\n  const btnStyle = {\n    // width: 240,\n    margin: '4px 0px 20px',\n    padding: '30px 120px',\n  };\n  const footer = (\n    <div style={{ textAlign: 'center' }}>\n      <Button type=\"danger\" theme=\"solid\" onClick={logout} style={btnStyle}>\n        Logging out\n      </Button>\n      <Button\n        type=\"primary\"\n        theme=\"borderless\"\n        onClick={() => setModalVisible(false)}\n        style={btnStyle}>\n        Next time\n      </Button>\n    </div>\n  );\n\n  const data = [\n    {\n      icon: (\n        <IconUserCircle\n          style={{ fontSize: 48, color: 'var(--semi-color-text-1)' }}\n        />\n      ),\n      title: 'You Principal ID is :',\n      content: principal,\n    },\n\n    {\n      icon: (\n        <IconMoneyExchangeStroked\n          style={{ fontSize: 48, color: 'var(--semi-color-text-1)' }}\n        />\n      ),\n      title: 'Your Wallet Address is ',\n      content: wallet,\n    },\n  ];\n  return (\n    <Modal\n      header={null}\n      visible={modalVisible}\n      onOk={logout}\n      onCancel={() => {\n        setModalVisible(false);\n      }}\n      footer={footer}\n      style={{ width: '100%', padding: '0 20px', maxWidth: 440 }}>\n      <h3\n        style={{\n          textAlign: 'center',\n          fontSize: 24,\n          margin: 40,\n          color: 'var(--semi-color-text-1)',\n        }}>\n        {name ?? 'Unknown Name'}\n      </h3>\n      <List\n        dataSource={data}\n        split={false}\n        renderItem={item => (\n          <List.Item\n            header={item.icon}\n            main={\n              <div>\n                <h6\n                  style={{\n                    margin: 0,\n                    fontSize: 16,\n                    color: 'var(--semi-color-text-1)',\n                  }}>\n                  {item.title}\n                </h6>\n                <p\n                  style={{\n                    marginTop: 4,\n                    color: 'var(--semi-color-text-1)',\n                    wordBreak: 'break-all',\n                  }}>\n                  {item.content}\n                </p>\n              </div>\n            }\n          />\n        )}\n      />\n    </Modal>\n  );\n};\n","import { ActorSubclass } from '@dfinity/agent';\nimport { model } from '@modern-js/runtime/model';\nimport { BuyMeCoffee } from '@/canisters/buymecoffee/types';\n\ninterface AppModelState {\n  actor: ActorSubclass<BuyMeCoffee> | undefined;\n  principal: string;\n  wallet: string;\n  name?: string;\n  isAuth: boolean;\n}\n\nexport const appModel = model('appModel').define<{ state: AppModelState }>({\n  state: {\n    actor: undefined,\n    principal: 'unknown',\n    wallet: 'unknown',\n    name: undefined,\n    isAuth: false,\n  },\n});\n","import { useModel } from '@modern-js/runtime/model';\nimport { useEffect } from 'react';\nimport { Actor, HttpAgent } from '@dfinity/agent';\nimport { appModel } from '@/models/app';\nimport { idlFactory } from '@/canisters/buymecoffee';\nimport { BuyMeCoffee } from '@/canisters/buymecoffee/types';\n\nexport const Dashboard = () => {\n  const [state] = useModel(appModel);\n\n  const { actor } = state;\n\n  const getAllPeople = async () => {\n    actor?.ping();\n  };\n\n  useEffect(() => {\n    (async () => {\n      await getAllPeople();\n    })();\n  }, [actor]);\n\n  return (\n    <div\n      style={{\n        borderRadius: '10px',\n        border: '1px solid var(--semi-color-border)',\n        flex: 1,\n        padding: '32px',\n      }}>\n      <p>list</p>\n    </div>\n  );\n};\n","import {\n  IllustrationNoContent,\n  IllustrationNoContentDark,\n} from '@douyinfe/semi-illustrations';\nimport { Button, Empty } from '@douyinfe/semi-ui';\n\ninterface EmptyPageProps {\n  login: () => Promise<void>;\n}\n\nexport const EmptyPage = ({ login }: EmptyPageProps) => (\n  <Empty\n    image={<IllustrationNoContent style={{ width: 150, height: 150 }} />}\n    style={{ marginTop: 64 }}\n    darkModeImage={\n      <IllustrationNoContentDark style={{ width: 150, height: 150 }} />\n    }\n    title=\"Something Awesome Is Here\"\n    description=\"Hop in to get started\">\n    <div style={{ textAlign: 'center' }}>\n      <Button\n        style={{\n          marginTop: 32,\n          padding: '32px 80px',\n          fontSize: 20,\n          borderRadius: 32,\n        }}\n        theme=\"solid\"\n        size=\"large\"\n        type=\"primary\"\n        onClick={login}>\n        Sign In With ME\n      </Button>\n    </div>\n  </Empty>\n);\n","import { IC } from '@astrox/connection';\nimport { PermissionsType } from '@astrox/connection/lib/cjs/types';\nimport {\n  IconCode,\n  IconHome,\n  IconMoon,\n  IconSemiLogo,\n  IconSun,\n  IconUser,\n} from '@douyinfe/semi-icons';\nimport {\n  IllustrationNoContent,\n  IllustrationNoContentDark,\n} from '@douyinfe/semi-illustrations';\nimport {\n  Avatar,\n  Button,\n  Empty,\n  Form,\n  Layout,\n  Nav,\n  Skeleton,\n  Typography,\n  useFieldApi,\n} from '@douyinfe/semi-ui';\nimport {\n  ReactChild,\n  ReactFragment,\n  ReactPortal,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { ActorSubclass } from '@dfinity/agent';\nimport { FormApi } from '@douyinfe/semi-ui/lib/es/form';\nimport { Route, Switch, useHistory } from '@modern-js/runtime/router';\nimport { useModel } from '@modern-js/runtime/model';\nimport { LoginModal } from '../../components/LoginModal';\nimport { Register } from '../Register';\nimport { Dashboard } from '../Dashboard';\nimport { EmptyPage } from '../Empty';\nimport { BuyMeCoffee, People, Result } from '@/canisters/buymecoffee/types';\nimport { idlFactory } from '@/canisters/buymecoffee';\nimport { appModel } from '@/models/app';\n\nconst { Header, Footer, Content } = Layout;\nconst { Title } = Typography;\n\nexport const MainLayout = (children: any) => {\n  const { body } = document;\n  const [principal, setPrincipal] = useState<string>('unknown');\n  const [wallet, setWallet] = useState<string>('unknown');\n  const [isAuth, setIsAuth] = useState<boolean>(false);\n  const [name, setName] = useState<string | undefined>(undefined);\n  const [ic, setIC] = useState<IC>((window as any).ic);\n  const [isLight, setIsLight] = useState<boolean>(\n    !body.hasAttribute('theme-mode'),\n  );\n  const [modalVisible, setModalVisible] = useState<boolean>(false);\n  const [actor, setActor] = useState<ActorSubclass<BuyMeCoffee> | undefined>(\n    undefined,\n  );\n\n  const [people, setPeople] = useState<People | undefined>(undefined);\n  const history = useHistory();\n  const [state, actions] = useModel(appModel);\n\n  const login = async () => {\n    await IC.connect({\n      walletProviderUrl: 'http://localhost:8080/transaction', // \"https://63k2f-nyaaa-aaaah-aakla-cai.raw.ic0.app/transaction\",\n      identityProvider: 'http://localhost:8080/login#authorize', // 'https://63k2f-nyaaa-aaaah-aakla-cai.raw.ic0.app/login#authorize',\n      permissions: [PermissionsType.identity, PermissionsType.wallet],\n      onAuthenticated: (icInstance: IC) => {\n        const thisIC = window.ic ?? icInstance;\n        setPrincipal(thisIC.principal.toText());\n        setWallet(thisIC.wallet ?? 'unknown');\n        setIsAuth(true);\n        actions.setPrincipal(thisIC.principal.toText());\n        actions.setWallet(thisIC.wallet ?? 'unknown');\n        actions.setIsAuth(true);\n        setIC(thisIC);\n        const thisActor = icInstance.createActor<BuyMeCoffee>(\n          idlFactory,\n          'q3fc5-haaaa-aaaaa-aaahq-cai',\n        );\n        setActor(thisActor);\n        actions.setActor(thisActor);\n      },\n    });\n  };\n  const logout = async () => {\n    await ic.disconnect();\n    setDefault();\n    history.push('/empty');\n  };\n\n  const setDefault = () => {\n    setPrincipal('unknown');\n    setWallet('unknown');\n    setIsAuth(false);\n    setName(undefined);\n    actions.setPrincipal('unknown');\n    actions.setWallet('unknown');\n    actions.setIsAuth(false);\n    setPeople(undefined);\n    setModalVisible(false);\n  };\n\n  const switchMode = () => {\n    if (body.hasAttribute('theme-mode')) {\n      body.removeAttribute('theme-mode');\n      setIsLight(true);\n    } else {\n      body.setAttribute('theme-mode', 'dark');\n      setIsLight(false);\n    }\n  };\n\n  const getPeople = async () => {\n    try {\n      const result = await actor?.read();\n      if (\n        result !== undefined &&\n        (result as unknown as { ok: People }).ok !== undefined\n      ) {\n        setPeople((result as unknown as { ok: People }).ok);\n        return (result as unknown as { ok: People }).ok;\n      } else {\n        setPeople(undefined);\n        return undefined;\n      }\n    } catch (error) {\n      throw error as Error;\n    }\n  };\n\n  useEffect(() => {\n    if (sessionStorage.getItem('ic-delegation') !== null) {\n      console.log('asdfasfasd');\n      (async () => {\n        console.log('hjjjj');\n        await login();\n      })();\n    } else {\n      console.log('123123123');\n      history.push('/empty');\n    }\n    console.log('4564564564');\n    // console.log('lllll');\n    // setDefault();\n    // console.log('456');\n    // history.push('/empty');\n  }, []);\n\n  useEffect(() => {\n    if (actor !== undefined) {\n      if (isAuth) {\n        if (!people) {\n          (async () => {\n            const result = await getPeople();\n            if (!result) {\n              history.push('/register');\n            } else {\n              actions.setPrincipal(result.id.toText());\n              actions.setWallet(result.wallet);\n              actions.setName(result.name);\n              setName(result.name);\n              history.push('/dashboard');\n            }\n          })();\n        } else {\n          console.log('234234234234');\n          actions.setPrincipal(people.id.toText());\n          actions.setWallet(people.wallet);\n          actions.setName(people.name);\n          setName(people.name);\n          history.push('/dashboard');\n        }\n      }\n    }\n  }, [actor]);\n\n  return (\n    <Layout\n      style={{\n        position: 'fixed',\n        height: '100%',\n        width: '100%',\n        padding: 0,\n        margin: 0,\n      }}>\n      <Header style={{ backgroundColor: 'var(--semi-color-bg-1)' }}>\n        <div>\n          <Nav mode=\"horizontal\" defaultSelectedKeys={['Home']}>\n            <Nav.Header>\n              <IconSemiLogo style={{ fontSize: 36 }} />\n            </Nav.Header>\n            <Nav.Item\n              itemKey=\"Home\"\n              text=\"首页\"\n              icon={<IconHome size=\"large\" />}\n            />\n            <Nav.Footer>\n              <Button\n                theme=\"borderless\"\n                icon={\n                  isLight ? <IconSun size=\"large\" /> : <IconMoon size=\"large\" />\n                }\n                style={{\n                  color: 'var(--semi-color-text-2)',\n                  marginRight: '12px',\n                }}\n                onClick={switchMode}\n              />\n              <Button onClick={isAuth ? () => setModalVisible(true) : login}>\n                {isAuth ? (\n                  <Avatar\n                    color={name !== undefined ? 'blue' : 'orange'}\n                    size=\"small\">\n                    {name !== undefined\n                      ? name.substring(0, 2).toUpperCase()\n                      : 'NA'}\n                  </Avatar>\n                ) : (\n                  <IconUser size=\"small\" />\n                )}\n              </Button>\n            </Nav.Footer>\n          </Nav>\n        </div>\n      </Header>\n      <Content\n        style={{\n          padding: '24px',\n          backgroundColor: 'var(--semi-color-bg-0)',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'stretch',\n          justifyContent: 'flex-start',\n        }}>\n        <Switch>\n          <Route exact={true} path=\"/\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/empty\">\n            <EmptyPage login={login} />\n          </Route>\n          <Route path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"*\">\n            <div>404</div>\n          </Route>\n        </Switch>\n        <LoginModal\n          logout={logout}\n          setModalVisible={setModalVisible}\n          modalVisible={modalVisible}\n          name={name}\n          principal={principal}\n          wallet={wallet}\n        />\n      </Content>\n      <Footer\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          padding: '20px',\n          color: 'var(--semi-color-text-2)',\n          backgroundColor: 'rgba(var(--semi-grey-0), 1)',\n        }}>\n        <span\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n          }}>\n          <IconCode size=\"large\" style={{ marginRight: '8px' }} />\n          <span>Copyright © 2021 AstroX.Network. All Rights Reserved. </span>\n        </span>\n        <span>\n          <span style={{ marginRight: '24px' }}>Github</span>\n          <span>Twitter</span>\n        </span>\n      </Footer>\n    </Layout>\n  );\n};\n","import { ActorSubclass } from '@dfinity/agent';\nimport { Button, Form, Typography } from '@douyinfe/semi-ui';\nimport { useEffect, useState } from 'react';\nimport { FormApi } from '@douyinfe/semi-ui/lib/es/form';\nimport { useModel } from '@modern-js/runtime/model';\nimport { BuyMeCoffee } from '@/canisters/buymecoffee/types';\nimport { appModel } from '@/models/app';\n\nexport const Register = () => {\n  const [state] = useModel(appModel);\n  const { actor, wallet, principal } = state;\n\n  const registerPeople = async (values: Record<string, any>) => {\n    const result = await actor?.create({\n      name: values.name,\n      wallet: values.wallet,\n    });\n    console.log({ result });\n  };\n\n  const [walletFormApi, setWalletFormApi] = useState<FormApi | undefined>(\n    undefined,\n  );\n\n  return (\n    <>\n      <Typography.Title>Name Yourself</Typography.Title>\n      <Form\n        onSubmit={values => registerPeople(values)}\n        initValues={{ wallet, principal }}\n        style={{ width: '100%' }}\n        getFormApi={formApi => {\n          setWalletFormApi(formApi);\n        }}>\n        {({ formState, values, formApi }) => (\n          <>\n            <Form.Input\n              field=\"name\"\n              label=\"Name\"\n              style={{ width: '100%', maxWidth: 400 }}\n              disabled={false}\n              required={true}\n              placeholder=\"Enter your name\"\n            />\n            <Form.Input\n              field=\"principal\"\n              label=\"Principal ID\"\n              style={{ width: '100%', maxWidth: 400 }}\n              disabled={true}\n              placeholder=\"Your Principal ID\"\n            />\n            <Form.Input\n              field=\"wallet\"\n              label=\"Wallet\"\n              style={{ width: '100%', maxWidth: 400 }}\n              disabled={true}\n              placeholder=\"Your Wallet Address\"\n            />\n\n            <Form.Checkbox field=\"agree\" noLabel={true}>\n              I have read and agree to the terms of service\n            </Form.Checkbox>\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n              }}>\n              <Button\n                disabled={!values.agree}\n                htmlType=\"submit\"\n                type=\"tertiary\">\n                Sign Me Up\n              </Button>\n            </div>\n          </>\n        )}\n      </Form>\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1640092964709\n      var cssReload = require(\"/Users/ghostcorn/dev/buy_me_coffee/node_modules/.pnpm/mini-css-extract-plugin@2.4.5_webpack@5.65.0/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"names":[],"sourceRoot":""}